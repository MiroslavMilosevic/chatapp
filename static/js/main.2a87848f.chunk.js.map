{"version":3,"sources":["u&p/users.js","components/Login.js","components/LogOut.js","components/Home.js","services/axios.js","functions/textValidation.js","components/Chat.js","App.js","serviceWorker.js","index.js"],"names":["usersArrayImported","id","username","password","Login","usersArray","setUser","useState","setUsername","setPassword","myHistory","useHistory","useEffect","type","placeholder","value","onChange","e","target","onClick","console","log","isSuccessful","forEach","element","trim","localStorage","setItem","toString","getItem","isLoged","setTimeout","push","LogOut","history","Home","userLocal","map","el","to","uuid","getUserMessages","axios","get","postRedZaUpis","broj","post","isMessageCorrect","message","length","includes","Chat","setUserApp","useParams","user","nizPoruka","setNizPoruka","porukePrijatelja","setPorukePrijatelja","zajednickePoruke","setZajednickePoruke","inputPoruka","setInputPoruka","window","onbeforeunload","Number","getRedZaUpis","then","res","data","tmp","split","idPoslao","poruka","date","Date","parse","stringDate","interval1","setInterval","clearInterval","filter","sendMessage","idUsera","redZaUpis","postMessage","alert","onKeyPress","event","key","sort","a","b","App","setUsersArray","className","exact","path","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.2a87848f.chunk.js","sourcesContent":["export let usersArrayImported=[\r\n{id:1, username:'milancemkc', password:'mkc'},\r\n{id:2, username:'jocara10', password:'spartacus'},\r\n{id:3, username:'pekula96', password:'kockazenepice'},\r\n{id:4, username:'suka99', password:'ooomajstore'},\r\n{id:5, username:'pero96', password:'mojpero'}\r\n]","import React, { useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router, Link, Redirect,  useHistory } from 'react-router-dom'\r\n\r\nexport default function Login({usersArray,setUser}) {\r\n\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const myHistory= useHistory();\r\n    useEffect(() => {\r\n\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n                     \r\n            <input type='text' placeholder='username' value={username}  onChange={(e)=>{setUsername(e.target.value)}}/>\r\n            <input type='password' placeholder='password' value={password}  onChange={(e)=>{setPassword(e.target.value)}}/>\r\n            <button onClick={\r\n                ()=>{console.log(username, password)\r\n                    let isSuccessful=false;\r\n                   usersArray.forEach(element => {\r\n                       if(element.username===username.trim() && element.password===password.trim()){\r\n                           console.log('uspesno');\r\n                           isSuccessful=true;\r\n                           localStorage.setItem('id', element.id.toString())\r\n                           localStorage.setItem('username', element.username)\r\n                           localStorage.setItem('password', element.password)\r\n                           localStorage.setItem('isLoged', 'true')\r\n                           setUser(\r\n                            {id:localStorage.getItem('id'), username:localStorage.getItem('username'),\r\n                             password:localStorage.getItem('password'), isLoged:true}\r\n                            )\r\n                    \r\n                        //  console.log(localStorage.getItem('username'))\r\n                        //  console.log(   localStorage.getItem('password'))\r\n                        //  console.log(   localStorage.getItem('id'))\r\n                         setTimeout(() => {\r\n                             myHistory.push('home')\r\n                         }, 150);\r\n                      \r\n                       }\r\n                   });\r\n                if(!isSuccessful){\r\n                    console.log('neuspesno');\r\n                }\r\n                      \r\n            }\r\n            }>Uloguj se</button>\r\n            <button onClick={()=>{\r\n                localStorage.setItem('username', null)\r\n                localStorage.setItem('password', null)\r\n                localStorage.setItem('id', null)\r\n                localStorage.setItem('isLoged', null)\r\n                setUser(\r\n                    { id:localStorage.getItem('id'), username:localStorage.getItem('username'),\r\n                     password:localStorage.getItem('password'), isLoged:null }\r\n                    )\r\n        \r\n            }}>Set to null</button>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { BrowserRouter as Router, Link, Redirect,  useHistory } from 'react-router-dom'\r\nexport default function LogOut({setUser}) {\r\n    const history = useHistory();\r\n    const logOutFnk =()=>{\r\n        localStorage.setItem('username', null)\r\n        localStorage.setItem('password', null)\r\n        localStorage.setItem('id', null)\r\n        localStorage.setItem('isLoged', null)\r\n        setUser(\r\n            { id:null, username:null,\r\n             password:null, isLoged:null }\r\n            )\r\n            history.push('/login')\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <button onClick={()=>{\r\n                     logOutFnk()\r\n\r\n            }}>LogOut</button>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { v1 as uuid } from 'uuid'\r\nimport { BrowserRouter as Router, Link } from 'react-router-dom'\r\nimport LogOut from './LogOut'\r\n\r\nexport default function Home({ usersArray,setUser }) {\r\n   // const [isLoged, setIsLoged] = useState(localStorage.getItem('isLoged'));\r\n    const [userLocal, setUserLocal] = useState({});\r\n\r\n    useEffect(() => {\r\n        setUser(\r\n            { id: localStorage.getItem('id'), username: localStorage.getItem('username'), password: localStorage.getItem('password'), isLoged:localStorage.getItem('isLoged')}\r\n        )\r\n     //   setIsLoged(localStorage.getItem('isLoged'));\r\n   \r\n    },[])\r\n\r\n\r\n    return (\r\n        \r\n        <div>\r\n            <LogOut setUser={setUser}/>\r\n              {localStorage.getItem('isLoged') !==null&&localStorage.getItem('isLoged')!=='null' ?   <> <button onClick={() => { console.log(localStorage.getItem('isLoged'));console.log(userLocal.isLoged); }}>DUGME</button>\r\n               <div> {usersArray.map(el => <p key={uuid()}>Idi na Chat sa: <Link key={uuid()} to={`chat/${el.id}`}  >{el.username}</Link> </p>)} </div> </>\r\n              : \"adfdfasdfas\"}        \r\n\r\n         \r\n   \r\n            \r\n           \r\n        </div>    \r\n   \r\n      \r\n        )\r\n}\r\n","import axios from 'axios'\r\nexport const getUserMessages=(id)=>{\r\n\r\n   return axios.get(`https://script.google.com/macros/s/AKfycbyaPSgO1KOnrE1vPswfyrByQwhcMtJH5t8VfErd_pc3viSAkU4/exec?id=${id+1}`)\r\n}\r\n\r\nexport const postMessage2=(inputPoruka, idUsera, idPoslao, redZaUpis)=>{\r\n\r\n    axios.post(`https://script.google.com/macros/s/AKfycbyaPSgO1KOnrE1vPswfyrByQwhcMtJH5t8VfErd_pc3viSAkU4/exec`)\r\n }\r\n\r\n export const postMessage=(inputPoruka, idUsera, idPoslao, redZaUpis)=>{\r\n\r\n   axios.post(`https://script.google.com/macros/s/AKfycbyaPSgO1KOnrE1vPswfyrByQwhcMtJH5t8VfErd_pc3viSAkU4/exec?poruka=${inputPoruka}&id=${idUsera}&idPoslao=${idPoslao}&redZaUpis=${redZaUpis}`)\r\n}\r\n \r\n\r\n export const getRedZaUpis=(id)=>{\r\n\r\n   return axios.get(`https://script.google.com/macros/s/AKfycbySS5xyOi8U9KApKftx72Hm5Uy0FcOt3mG6zWKKQ-Ti9OBIhj8/exec?id=${id}`)\r\n }\r\n\r\n export const postRedZaUpis=(id, broj)=>{\r\n\r\n  return axios.post(`https://script.google.com/macros/s/AKfycbySS5xyOi8U9KApKftx72Hm5Uy0FcOt3mG6zWKKQ-Ti9OBIhj8/exec?id=${id}&broj=${broj}`)\r\n}\r\n","\r\n\r\nexport function isMessageCorrect(message){\r\n\r\nif(message.length<=200&&message.length>0&&!message.includes(';')){\r\n    return [true,'poruka odgovara formatu']\r\n}else if(message.length>200){\r\n    return [false, 'poruka ima preko 200 karaktera ']\r\n}else if(message.length<=0){\r\n    return [false, 'ne mozete poslati praznu poruku']\r\n}else if(message.includes(';')){\r\n    return [false, 'zabranjeno je koristiti neki od karatera iz vase poruke']\r\n}\r\n\r\n}","import React, { useEffect, useState, useRef } from 'react';\r\nimport { BrowserRouter as Redirect, useParams } from 'react-router-dom'\r\nimport { getUserMessages, postMessage, postRedZaUpis, getRedZaUpis } from '../services/axios'\r\nimport { v1 as uuid } from 'uuid'\r\nimport { isMessageCorrect } from '../functions/textValidation'\r\nimport LogOut from './LogOut';\r\n\r\nexport default function Chat({setUserApp}) {\r\n\r\n    const [id] = useState(useParams().id);\r\n    const [user] = useState({ id: localStorage.getItem('id'), username: localStorage.getItem('username'), password: localStorage.getItem('password'), isLoged: localStorage.getItem('isLoged') });\r\n    const [nizPoruka, setNizPoruka] = useState([]);\r\n    const [porukePrijatelja, setPorukePrijatelja] = useState([]);\r\n    const [zajednickePoruke, setZajednickePoruke] = useState([]);\r\n    const [inputPoruka, setInputPoruka] = useState('');\r\n\r\n    window.onbeforeunload = () => {\r\n        postRedZaUpis(user.id, Number(localStorage.getItem('redZaUpis')));\r\n    }\r\n\r\n    useEffect(() => {\r\n        getRedZaUpis(user.id).then(res => {\r\n            console.log(res.data);\r\n            localStorage.setItem('redZaUpis', res.data);\r\n        })\r\n        getUserMessages(Number(id)).then(res => {\r\n            let tmp = res.data.map(el => {\r\n                return {\r\n                    id: el.split(';')[0], idPoslao: el.split(';')[1],\r\n                    poruka: el.split(';')[2], date: Date.parse(el.split(';')[3]), stringDate: el.split(';')[3]\r\n                }\r\n            })\r\n            setPorukePrijatelja(tmp);\r\n        })\r\n        getUserMessages(Number(user.id)).then(res => {\r\n            let tmp = res.data.map(el => {\r\n                return {\r\n                    id: el.split(';')[0], idPoslao: el.split(';')[1],\r\n                    poruka: el.split(';')[2], date: Date.parse(el.split(';')[3]), stringDate: el.split(';')[3]\r\n                }\r\n            })\r\n            console.log(tmp);\r\n            setNizPoruka(tmp);\r\n        })\r\n        let interval1 = setInterval(() => {\r\n            getUserMessages(Number(id)).then(res => {\r\n                let tmp = res.data.map(el => {\r\n                    return {\r\n                        id: el.split(';')[0], idPoslao: el.split(';')[1],\r\n                        poruka: el.split(';')[2], date: Date.parse(el.split(';')[3]), stringDate: el.split(';')[3]\r\n                    }\r\n                })\r\n                setPorukePrijatelja(tmp);\r\n            })\r\n        }, 2000);\r\n\r\n        return function () {\r\n            clearInterval(interval1);\r\n            console.log('odjavaaaaaaaaaa' + localStorage.getItem('redZaUpis'));\r\n            postRedZaUpis(user.id, Number(localStorage.getItem('redZaUpis')))\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        let tmp = [];\r\n        if (user.id !== id) {\r\n            tmp = [...porukePrijatelja.filter(el => el.idPoslao === user.id), ...nizPoruka.filter(el => el.idPoslao === id)];\r\n        } else {\r\n            tmp = [...nizPoruka.filter(el => el.idPoslao === user.id)];\r\n        }\r\n        setZajednickePoruke(tmp);\r\n        console.log(zajednickePoruke);\r\n    }, [porukePrijatelja, nizPoruka])\r\n\r\n    const sendMessage = () => {\r\n\r\n        if (isMessageCorrect(inputPoruka)[0]) {\r\n            //  localStorage.setItem('redZaUpis' , Number(localStorage.getItem('redZaUpis'))+1)\r\n            postMessage(inputPoruka, user.id, id, localStorage.getItem('redZaUpis'));\r\n            localStorage.setItem('redZaUpis', Number(localStorage.getItem('redZaUpis')) + 1)\r\n            let tmp = [...nizPoruka];\r\n            tmp.push({ id: user.id, idPoslao: id, poruka: inputPoruka, date: Date.parse(new Date().toString()), stringDate: (new Date).toString() });\r\n            setNizPoruka(tmp);\r\n            setInputPoruka('');\r\n        } else {\r\n            alert(isMessageCorrect(inputPoruka)[1])\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n            <button onClick={() => {\r\n\r\n                console.log(localStorage.getItem('redZaUpis'));\r\n            }}>DUGME</button>\r\n            <LogOut setUser={setUserApp}/>\r\n            <h1>{'chat sa korisnikom sa id-om: ' + id}</h1>\r\n            <input type='text' value={inputPoruka} placeholder='poruka...' onChange={(e) => { setInputPoruka(e.target.value) }} onKeyPress={(event) => {\r\n                if (event.key === 'Enter') {\r\n                    sendMessage()\r\n                    //     if(isMessageCorrect(inputPoruka)[0]){\r\n                    //  //  localStorage.setItem('redZaUpis' , Number(localStorage.getItem('redZaUpis'))+1)\r\n                    //    postMessage(inputPoruka, user.id, id, localStorage.getItem('redZaUpis'));\r\n                    //    localStorage.setItem('redZaUpis' , Number(localStorage.getItem('redZaUpis'))+1)\r\n                    //    let tmp=[...nizPoruka];\r\n                    //    tmp.push( { id: user.id,idPoslao:id, poruka:inputPoruka,   date:Date.parse(new Date().toString()), stringDate:(new Date).toString() } );\r\n                    //    setNizPoruka(tmp);\r\n\r\n                    //     setInputPoruka('');\r\n\r\n\r\n                    //     }else{\r\n                    //        alert(isMessageCorrect(inputPoruka)[1])\r\n                    //     }\r\n                }\r\n\r\n            }} />\r\n            {zajednickePoruke.sort((a, b) => a.date - b.date)\r\n                .map(el => { return (<div key={uuid()}><p key={uuid()}>{el.poruka + ' | ' + el.id + '   | '}</p></div>) })\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n","import { BrowserRouter as Router, Switch, Route, } from 'react-router-dom'\nimport React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { usersArrayImported, } from './u&p/users'\nimport Login from './components/Login'\nimport Home from './components/Home'\nimport Chat from './components/Chat'\n\nfunction App() {\n // const [nizPoruka, setNizPoruka] = useState([]);\n  const [usersArray, setUsersArray] = useState([]);\n  const [user, setUser] = useState(  {id:localStorage.getItem('id'), username:localStorage.getItem('username'),\n   password:localStorage.getItem('password'), isLoged:localStorage.getItem('isLoged')});\n\n  useEffect(() => {\n    setUser(\n      {id:localStorage.getItem('id'), username:localStorage.getItem('username'), password:localStorage.getItem('password'), isLoged:localStorage.getItem('isLoged')}\n      )\n    setUsersArray(usersArrayImported)\n    \n    // getUserMessages(1).then(res => {\n    //   let tmp = res.data.map(el => { return { id: el.split(';')[0], poruka: el.split(';')[1], date: el.split(';')[2] } })\n    //   console.log(tmp);\n    //   setNizPoruka(tmp);\n  \n    // })//////sve ispod je setInterval ////////////////////////////////////////////////////// obrati paznju\n    // setInterval(() => {\n    //   getUsersArray().then(res => {\n    //     let tmp = res.data.map(el => { return { id: el.split(';')[0], poruka: el.split(';')[1], date: el.split(';')[2] } })\n    //     setNizPoruka(tmp);\n    //   })\n    // }, 1200);\n  }, [])\n\n  // useEffect(()=>{\n  //   console.log(nizPoruka);\n  //   //console.log(user);\n  // },[nizPoruka])\n\n\n\n  return (\n    <div className=\"App\">\n  <h1>Page 11111111111111111</h1>\n\n      {/* <Link to={`/one/${el.id}`}>Detalji</Link> */}\n\n      <Router>\n\n        <Switch>\n          <Route exact path=\"/home\">\n       { user.isLoged!=='null'&&user.isLoged!==null ?  <Home usersArray={usersArray} setUser={setUser} /> : <p>nisi ulogovan</p> } \n       <h1>Page 3333333333</h1>\n          </Route>\n          <Route exact path=\"/\">\n          <h1>Page 3333333333</h1>\n\n            <button onClick={() => {\n              console.log(usersArray)\n            }}>abcdefg</button>\n\n          </Route>\n          <Route exact path=\"/login\">\n          {  <Login usersArray={usersArray}  setUser={setUser}/> }\n          <h1>Page 3333333333</h1>\n\n          </Route>\n          <Route exact path=\"/register\">\n          <h1>Page 3333333333</h1>\n          </Route>\n          <Route exact path=\"/chat/:id\">\n          <h1>Page 3333333333</h1>\n          { user.isLoged!=='null'&&user.isLoged!==null ?  <Chat setUserApp={setUser} />: <p>nisi ulogovan</p> } \n            {/* {localStorage.getItem('user')=== ''? <ParagrafS2>Niste Ulogovani</ParagrafS2> : <Club niz={niz} setNiz={setNiz}></Club>} */}\n          </Route>\n        </Switch>\n\n      </Router>\n\n\n\n\n\n      {/* <button onClick={()=>{console.log(nizUsera);}}>abcdefg</button> \n <input type='text' value={inputPoruka} onChange={(e)=>{setInputPoruka(e.target.value)}}/>\n       <button onClick={()=>{\n         postMessage(inputPoruka);\n         let tmp=[...nizPoruka];\n         console.log(tmp);\n         tmp.push({date:new Date(), id: \"1\", poruka:inputPoruka});\n         setNizPoruka(tmp);\n         setInputPoruka('');\n       }}>Posalji Poruku</button>   \n  {nizPoruka.length>0 ? nizPoruka.sort((a,b)=>{return a-b}).map(el=>{return <p key={uuid()}>{el.poruka}</p>}):<p>{'Ucitava se...'}</p>} */}\n    </div>\n  );\n}\n//https://docs.google.com/spreadsheets/d/1NeY3gcMAzC-iany4HwYZULSRdkxYA7NoLB1aI1-_kfc/edit?usp=sharing\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}